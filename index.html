<html>
  <head>
    <style>
      * {
        -webkit-box-sizing: border-box;
           -moz-box-sizing: border-box;
                box-sizing: border-box;
      }

      body { font-family: sans-serif; }

      .packery {
        background: #FDD;
        background: hsla(45, 100%, 40%, 0.2);
      }

      /* clearfix */
      .packery:after {
        content: ' ';
        display: block;
        clear: both;
      }

      .item {
        width: 40px;
        height: 40px;
        float: left;
        background: #C09;
        border: 4px solid #333;
        border-color: hsla(0, 0%, 0%, 0.3);
      }

      .item:hover {
        border-color: white;
        cursor: move;
      }

      .item.w2 { width:   80px; background: #9C0; }
      .item.h2 { height:  80px; background: #0C9; }
      .item.h4 { height: 160px; background: #C90; }
      .item.w4 { width:  160px; background: #90C; }

      .item.is-dragging,
      .item.is-positioning-post-drag {
        border-color: white;
        background: #09F;
        z-index: 2;
      }
    </style>
  </head>
  <body>
    <div id="container">
      <div class="item w4 h2"></div>
      <div class="item w2 h2"></div>
      <div class="item w2 h4"></div>
      <div class="item w2 h2"></div>
      <div class="item w4 h4"></div>
      <div class="item w2 h2"></div>
      <div class="item w2 h4"></div>
      <div class="item w4 h4"></div>
      <div class="item w2 h2"></div>
      <div class="item w2 h2"></div>
      <div class="item w2 h2"></div>
      <div class="item w4 h4"></div>
      <div class="item w2 h2"></div>
      <div class="item w2 h4"></div>
      <div class="item w4 h4"></div>
      <div class="item w2 h2"></div>
      <div class="item w2 h2"></div>
    </div>

    <script src="/jquery-2.1.3.min.js"></script>
    <script src="/draggabilly.pkgd.min.js"></script>
    <script src="/packery.pkgd.min.js"></script>

    <script type="text/javascript">
      var container = $('#container').packery({
        itemSelector: '.item',
        columnWidth: 80,
        rowHeight: 80
      });
      container.find('.item').each( function( i, itemElem ) {
        // make element draggable with Draggabilly
        var draggie = new Draggabilly( itemElem );
        // bind Draggabilly events to Packery
        container.packery( 'bindDraggabillyEvents', draggie );
      });
    </script>
  </body>
</html>
